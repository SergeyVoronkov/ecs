{"version":3,"file":"bundle.index.js","mappings":"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","sources":["webpack:///../node_modules/@mygame/utils/dist/Pool.js","webpack:///../node_modules/@mygame/utils/dist/Signal.js","webpack:///../node_modules/@mygame/utils/dist/common.js","webpack:///../node_modules/@mygame/utils/dist/index.js","webpack:///./components/Circle.ts","webpack:///./components/Grid.ts","webpack:///./components/GridCell.ts","webpack:///./components/Position.ts","webpack:///./components/SpawnCell.ts","webpack:///./components/Vector.ts","webpack:///./systems/ClickSystem.ts","webpack:///./systems/EditGridSystem.ts","webpack:///./systems/LifeSystem.ts","webpack:///./systems/RemoveSystem.ts","webpack:///./systems/RenderCircle.ts","webpack:///./systems/RenderGrid.ts","webpack:///./systems/SpawnCellSystem.ts","webpack:///./systems/UpdateCellPosition.ts","webpack:///../src/Component.ts","webpack:///../src/ComponentPool.ts","webpack:///../src/Entity.ts","webpack:///../src/EntityPool.ts","webpack:///../src/Filter.ts","webpack:///../src/System.ts","webpack:///../src/SystemGroup.ts","webpack:///../src/World.ts","webpack:///../src/index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pool = void 0;\nclass Pool {\n    constructor(count = 0) {\n        // private block\n        this._items = [];\n        for (let i = 0; i < count; ++i) {\n            this._items.push(this._generate());\n        }\n    }\n    push(item) {\n        this._items.push(item);\n        item.release();\n    }\n    create(...args) {\n        let item = this._items.pop();\n        if (!item) {\n            item = this._generate();\n        }\n        item.init(...args);\n        return item;\n    }\n    get size() {\n        return this._items.length;\n    }\n}\nexports.Pool = Pool;\n//# sourceMappingURL=Pool.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handler = exports.Handler = exports.Signal = void 0;\nclass Signal {\n    constructor() {\n        // private block\n        this._handlers = new Set();\n    }\n    on(slot) {\n        this._handlers.add(slot);\n    }\n    off(slot) {\n        this._handlers.delete(slot);\n    }\n    emit(...args) {\n        return this.exec(...args);\n    }\n    exec(...args) {\n        let promise = Promise.resolve();\n        for (let handler of this._handlers) {\n            promise.then(() => handler.exec(...args));\n        }\n        return promise;\n    }\n}\nexports.Signal = Signal;\nclass Handler {\n    constructor(handler, sender = null) {\n        this._handler = handler;\n        this._sender = sender;\n    }\n    exec(...args) {\n        return this._handler.apply(this._sender, args);\n    }\n}\nexports.Handler = Handler;\nfunction handler(handler, sender = null) {\n    return new Handler(handler, sender);\n}\nexports.handler = handler;\n//# sourceMappingURL=Signal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.idGenerator = void 0;\nfunction idGenerator() {\n    let count = 0;\n    return function () {\n        return (++count);\n    };\n}\nexports.idGenerator = idGenerator;\n//# sourceMappingURL=common.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Pool\"), exports);\n__exportStar(require(\"./Signal\"), exports);\n__exportStar(require(\"./common\"), exports);\n//# sourceMappingURL=index.js.map","import {Component, ComponentTypeId, getTypeId} from '../../src/Component';\n\nexport class Circle extends Component {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n\tradius: number = 20\n\n\tinit(radius: number = 20) {\n\t\tthis.radius = radius\n\t}\n}","import {Component, ComponentTypeId, getTypeId} from '../../src/Component';\nimport {Entity} from '../../src/Entity';\n\ntype Null<T> = T | null;\n\nexport class Grid extends Component {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n\trows: number = 0;\n\tcols: number = 0;\n\n\tdata: Null<Entity>[][] = []\n\n\tget(x: number, y: number): Null<Entity> {\n\t\treturn this.data[y] && this.data[y][x] || null;\n\t}\n\n\tset(x: number, y: number, value: Null<Entity>) {\n\t\tthis.data[y][x] = value;\n\t}\n\n\tinit(rows: number, cols: number) {\n\t\tthis.rows = rows;\n\t\tthis.cols = cols;\n\t\tfor (let y = 0; y < this.rows; ++y) {\n\t\t\tthis.data[y] = [];\n\t\t\tfor (let x = 0; x < this.cols; ++x) {\n\t\t\t\tthis.data[y][x] = null;\n\t\t\t}\n\t\t}\n\t}\n}","import {ComponentTypeId, getTypeId} from '../../src/Component';\nimport {Vector} from './Vector';\n\nexport class GridCell extends Vector {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n}","import {ComponentTypeId, getTypeId} from '../../src/Component';\nimport {Vector} from './Vector';\n\nexport class Position extends Vector {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n}","import {ComponentTypeId, getTypeId} from '../../src/Component';\nimport {Vector} from './Vector';\n\nexport class SpawnCell extends Vector {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n}\n\nexport class GridCellRemoved extends Vector {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n}","import {Component, ComponentTypeId, getTypeId} from '../../src/Component';\n\nexport class Vector extends Component {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n\n\tx: number = 0\n\ty: number = 0;\n\n\tinit(x: number = 0, y: number = 0) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n}","import {System} from '../../src/System';\nimport {Component, ComponentTypeId, getTypeId} from '../../src/Component';\nimport {World} from '../../src/World';\nexport class OnClick extends Component {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n\tevent:MouseEvent | undefined;\n\tinit(e:MouseEvent) {\n\t\tthis.event = e;\n\t}\n}\n\nexport class ClickSystem extends System {\n\tblock: Node;\n\t_onClick: OmitThisParameter<(e: MouseEvent) => void>;\n\tconstructor(world:World, block:Node) {\n\t\tsuper(world);\n\t\tthis.block = block;\n\t\tthis._onClick = this.onClick.bind(this);\n\t}\n\n\tonClick(e:MouseEvent){\n\t\tthis.world.createEntity().add(OnClick, e);\n\t}\n\n\tonInit() {\n\t\tsuper.onInit();\n\t\t// @ts-ignore\n\t\tthis.block.addEventListener('click', this._onClick);\n\t}\n\n\tdestroy() {\n\t\tsuper.destroy();\n\t\t// @ts-ignore\n\t\tthis.block.removeEventListener('click', this._onClick);\n\t}\n}","import {System} from '../../src/System';\nimport {OnClick} from './ClickSystem';\nimport {World} from '../../src/World';\nimport {RenderGridOptions} from './RenderGrid';\nimport {Grid} from '../components/Grid';\nimport {GridCellRemoved, SpawnCell} from '../components/SpawnCell';\n\nexport class EditGridSystem extends System {\n\tgrid = this.world.getFilter(Grid)\n\tfilter = this.world.getFilter(OnClick)\n\toptions: RenderGridOptions;\n\n\tconstructor(world: World, options: RenderGridOptions) {\n\t\tsuper(world);\n\t\tthis.options = options;\n\t}\n\n\tonUpdate(dt: number) {\n\t\tlet {position, size} = this.options;\n\t\tlet grid = this.grid.first().get(Grid);\n\n\t\tfor(let entity of this.filter) {\n\t\t\tlet event = entity.get(OnClick).event;\n\t\t\tif(event) {\n\t\t\t\tlet x = Math.floor((event.x - position.x)/size);\n\t\t\t\tlet y = Math.floor((event.y - position.y)/size);\n\t\t\t\tif(grid.get(x,y)) {\n\t\t\t\t\tthis.world.createEntity()\n\t\t\t\t\t\t.add(GridCellRemoved, x, y);\n\t\t\t\t} else {\n\t\t\t\t\tthis.world.createEntity()\n\t\t\t\t\t\t.add(SpawnCell, x, y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","import {System} from '../../src/System';\nimport {Grid} from '../components/Grid';\nimport {GridCellRemoved, SpawnCell} from '../components/SpawnCell';\n\nexport class LifeSystem extends System {\n\tgrid = this.world.getFilter(Grid)\n\n\tcount(grid:Grid, x:number, y:number) {\n\t\tlet count = 0;\n\t\tfor(let dx = -1; dx <=1; ++dx) for(let dy = -1; dy <=1; ++dy) if(dx || dy) {\n\t\t\tif(grid.get(x + dx, y + dy)) {\n\t\t\t\t++count;\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n\n\tonUpdate(dt: number) {\n\t\tlet grid = this.grid.first().get(Grid);\n\n\n\t\tfor (let y = 0; y < grid.rows; ++y) {\n\t\t\tfor (let x = 0; x < grid.cols; ++x) {\n\t\t\t\tlet count = this.count(grid, x, y);\n\t\t\t\tif(grid.get(x, y)) {\n\t\t\t\t\tif(count < 2 || count > 3) {\n\t\t\t\t\t\tthis.world.createEntity()\n\t\t\t\t\t\t\t.add(GridCellRemoved, x, y);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(count === 3) {\n\t\t\t\t\t\tthis.world.createEntity()\n\t\t\t\t\t\t\t.add(SpawnCell, x, y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","import {System} from '../../src/System';\nimport {Component, ComponentType} from '../../src/Component';\nimport {World} from '../../src/World';\nimport {Filter} from '../../src/Filter';\n\nexport class RemoveSystem<T extends Component> extends System {\n\tfilter: Filter;\n\tconstructor(world:World, type:ComponentType<T>) {\n\t\tsuper(world);\n\t\tthis.filter = this.world.getFilter(type)\n\t}\n\n\tonUpdate(dt: number) {\n\t\tfor(let entity of this.filter) {\n\t\t\tthis.world.removeEntity(entity);\n\t\t}\n\t}\n}","import {System} from '../../src/System';\nimport {Circle} from '../components/Circle';\nimport {World} from '../../src/World';\nimport {Position} from '../components/Position';\n\nexport class RenderCircle extends System {\n\tfilter = this.world.getFilter(Circle, Position)\n\tcontext: CanvasRenderingContext2D\n\n\tconstructor(world: World, context: CanvasRenderingContext2D) {\n\t\tsuper(world);\n\t\tthis.context = context;\n\t}\n\n\tonUpdate(dt: number) {\n\t\tfor (let entity of this.filter) {\n\t\t\tconst radius = entity.get(Circle)?.radius;\n\t\t\tconst vector = entity.get(Position);\n\t\t\tif (radius) {\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.context.arc(vector.x, vector.y, radius, 0, 2 * Math.PI, false)\n\t\t\t\tthis.context.fillStyle = 'RED';\n\t\t\t\tthis.context.fill()\n\t\t\t}\n\t\t}\n\t}\n}","import {System} from '../../src/System';\nimport {World} from '../../src/World';\nimport {Grid} from '../components/Grid';\n\nexport type RenderGridOptions = {\n\tposition:{x:number,y:number}\n\tsize: number\n}\n\nexport class RenderGrid extends System {\n\tfilter = this.world.getFilter(Grid)\n\tcontext: CanvasRenderingContext2D\n\toptions: RenderGridOptions;\n\n\tconstructor(world: World, context: CanvasRenderingContext2D, options: RenderGridOptions) {\n\t\tsuper(world);\n\t\tthis.context = context;\n\t\tthis.options = options;\n\t}\n\n\tonUpdate(dt: number) {\n\t\tlet grid = this.filter.first().get(Grid);\n\t\tif (grid) {\n\t\t\tlet {position, size} = this.options;\n\n\n\t\t\tlet ctx = this.context;\n\t\t\tfor (let y = 0; y < grid.rows; ++y) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(position.x, position.y + y * size);\n\t\t\t\tctx.lineTo(position.x + grid.cols * size, position.y + y * size);\n\t\t\t\tctx.strokeStyle = 'rgb(78,69,51)';\n\t\t\t\tctx.lineWidth = 1;\n\t\t\t\tctx.stroke()\n\t\t\t}\n\n\t\t\tfor (let x = 0; x < grid.cols; ++x) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(position.x + x * size, position.y);\n\t\t\t\tctx.lineTo(position.x + x * size, position.y + grid.rows * size);\n\t\t\t\tctx.strokeStyle = 'rgb(78,69,51)';\n\t\t\t\tctx.lineWidth = 1;\n\t\t\t\tctx.stroke()\n\t\t\t}\n\t\t}\n\t}\n}","import {System} from '../../src/System';\nimport {GridCellRemoved, SpawnCell} from '../components/SpawnCell';\nimport {Grid} from '../components/Grid';\nimport {GridCell} from '../components/GridCell';\nimport {Circle} from '../components/Circle';\n\nexport class SpawnCellSystem extends System {\n\tspawns = this.world.getFilter(SpawnCell)\n\tgrid = this.world.getFilter(Grid)\n\n\tonUpdate(dt: number) {\n\t\tconst grid = this.grid.first().get(Grid);\n\t\tif (grid) {\n\t\t\tfor (let entity of this.spawns) {\n\t\t\t\tlet spawnCell = entity.get(SpawnCell);\n\t\t\t\tif (!grid.get(spawnCell.x, spawnCell.y)) {\n\t\t\t\t\tlet entity = this.world.createEntity()\n\t\t\t\t\t\t.add(GridCell, spawnCell.x, spawnCell.y)\n\t\t\t\t\t\t.add(Circle, 9)\n\t\t\t\t\tgrid.set(spawnCell.x, spawnCell.y, entity);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class RemoveCellSystem extends System {\n\tremoves = this.world.getFilter(GridCellRemoved)\n\tgrid = this.world.getFilter(Grid)\n\n\tonUpdate(dt: number) {\n\t\tconst grid = this.grid.first().get(Grid);\n\t\tif (grid) {\n\t\t\tfor (let entity of this.removes) {\n\t\t\t\tlet cellRemoved = entity.get(GridCellRemoved);\n\t\t\t\tlet cell = grid.get(cellRemoved.x, cellRemoved.y);\n\t\t\t\tif (cell) {\n\t\t\t\t\tthis.world.removeEntity(cell);\n\t\t\t\t\tgrid.set(cellRemoved.x, cellRemoved.y, null);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n","import {System} from '../../src/System';\nimport {GridCell} from '../components/GridCell';\nimport {World} from '../../src/World';\nimport {RenderGridOptions} from './RenderGrid';\nimport {Position} from '../components/Position';\n\nexport class UpdateCellPosition extends System {\n\tfilter = this.world.getFilter(GridCell)\n\toptions: RenderGridOptions;\n\n\tconstructor(world: World, options: RenderGridOptions) {\n\t\tsuper(world);\n\t\tthis.options = options;\n\t}\n\n\tonUpdate(dt: number) {\n\t\tlet {position, size} = this.options;\n\t\tfor(let entity of this.filter) {\n\t\t\tlet pos = entity.get(Position);\n\t\t\tlet cell = entity.get(GridCell);\n\t\t\tpos.x = position.x + cell.x * size + size/2;\n\t\t\tpos.y = position.y + cell.y * size + size/2;\n\t\t}\n\t}\n}","import {idGenerator, IPoolObject} from '@mygame/utils';\n\nexport type ComponentTypeId = number;\nexport const getTypeId = idGenerator<ComponentTypeId>();\n\n\nexport class Component implements IPoolObject {\n\tstatic readonly Type: ComponentTypeId = getTypeId();\n\n\tinit(...args: any[]): void {\n\t}\n\n\trelease(): void {\n\t}\n\n\tget Type(): ComponentTypeId {\n\t\t// @ts-ignore\n\t\treturn this.constructor.Type as ComponentTypeId;\n\t}\n}\n\nexport type ComponentType<T extends Component> = {\n\tnew(): T\n\treadonly Type: ComponentTypeId\n}\n","import {Component, ComponentType} from './Component';\nimport {Pool} from '@mygame/utils';\n\nexport class ComponentPool<T extends Component> extends Pool<Component> {\n\n\tconstructor(type: ComponentType<T>) {\n\t\tsuper();\n\t\tthis._type = type;\n\t}\n\n\t_generate(): Component {\n\t\treturn new this._type();\n\t}\n\n\t// private block\n\t_type: ComponentType<T>;\n}","import {World} from './World';\nimport {Component, ComponentType, ComponentTypeId} from './Component';\nimport {idGenerator, IPoolObject} from '@mygame/utils';\n\n\nexport type EntityId = number;\nexport const getId = idGenerator<EntityId>();\n\nexport type IComponentMap = {\n\t[key: ComponentTypeId]: Component;\n};\n\nexport class Entity implements IPoolObject {\n\tid:EntityId = getId()\n\n\tconstructor(world: World) {\n\t\tthis._world = world;\n\t}\n\n\thasComponent<T extends Component>(componentType:ComponentType<T>):boolean {\n\t\treturn this._world.hasComponent(this, componentType);\n\t}\n\n\tgetComponent<T extends Component>(componentType:ComponentType<T>): T | null {\n\t\treturn this._world.getComponent(this, componentType);\n\t}\n\n\tget<T extends Component>(componentType:ComponentType<T>): T {\n\t\tlet cmp = this._world.getComponent(this, componentType);\n\t\tif(!cmp) {\n\t\t\tcmp = this._world.addComponent(this, componentType);\n\t\t}\n\t\treturn cmp;\n\t}\n\n\taddComponent<T extends Component>(componentType:ComponentType<T>, ...args:any[]): T {\n\t\treturn this._world.addComponent(this, componentType, ...args);\n\t}\n\n\tadd<T extends Component>(componentType:ComponentType<T>, ...args:any[]): this {\n\t\tthis._world.addComponent(this, componentType, ...args);\n\t\treturn this;\n\t}\n\n\tremove<T extends Component>(componentType:ComponentType<T>): this {\n\t\tthis._world.removeComponent(this, componentType);\n\t\treturn this;\n\t}\n\n\tinit(...args: any[]): void {\n\t}\n\n\trelease(): void {\n\t}\n\t// private block\n\t_world:World\n\t_components:IComponentMap = {}\n}\n\n","import {Entity} from './Entity';\nimport {World} from './World';\nimport {Pool} from '@mygame/utils';\n\nexport class EntityPool extends Pool<Entity>{\n\n\tconstructor(world:World) {\n\t\tsuper();\n\t\tthis._world = world;\n\t}\n\n\t_generate(): Entity {\n\t\treturn new Entity(this._world);\n\t}\n\n\t// private block\n\t_world:World\n}","import {World} from './World';\nimport {Component, ComponentType} from './Component';\nimport {Entity} from './Entity';\nimport {handler, IDestroyed} from '@mygame/utils';\n\nexport class Filter implements Iterable<Entity>, IDestroyed {\n\tconstructor(world:World, id:string, components: ComponentType<Component>[]) {\n\t\tthis._world = world;\n\t\tthis._id = id;\n\n\t\tfor(let cmp of components) {\n\t\t\tthis._components.add(cmp);\n\t\t}\n\n\t\tfor(let entity of this._world.entities) {\n\t\t\tthis.update(entity);\n\t\t}\n\n\t\tthis._world.socketAddComponent.on(this._onAddComponent);\n\t\tthis._world.socketRemoveComponent.on(this._onRemoveComponent);\n\t\tthis._world.socketRemoveEntity.on(this._onRemoveEntity);\n\t}\n\n\tdestroy() {\n\n\t}\n\n\tonAddComponent(world:World, entity:Entity, component:Component) {\n\t\tif(this._components.has(component.constructor as ComponentType<Component>)) {\n\t\t\tthis.update(entity);\n\t\t}\n\t}\n\n\tonRemoveComponent(world:World, entity:Entity, component:Component) {\n\t\tif(this._components.has(component.constructor as ComponentType<Component>)) {\n\t\t\tthis.update(entity);\n\t\t}\n\t}\n\n\tonRemoveEntity(world:World, entity:Entity) {\n\t\tthis._entities.delete(entity);\n\t}\n\n\t/**\n\t * Проверка принадлежности к фильтру\n\t * @param entity\n\t */\n\tcheck(entity: Entity):boolean {\n\t\tfor(let cmp of this._components) {\n\t\t\tif(!entity.hasComponent(cmp)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tupdate(entity:Entity) {\n\t\tif(this.check(entity)) {\n\t\t\tthis.addEntity(entity);\n\t\t} else {\n\t\t\tthis.removeEntity(entity);\n\t\t}\n\t}\n\n\taddEntity(entity:Entity) {\n\t\tthis._entities.add(entity);\n\t}\n\n\tremoveEntity(entity:Entity) {\n\t\tthis._entities.delete(entity);\n\t}\n\n\t[Symbol.iterator](): Iterator<Entity> {\n\t\treturn this._entities[Symbol.iterator]();\n\t}\n\n\tfirst(): Entity {\n\t\treturn this._entities[Symbol.iterator]().next().value;\n\t}\n\n\t// private block\n\t_world:World\n\t_id:string\n\t_components: Set<ComponentType<Component>> = new Set()\n\t_entities: Set<Entity> = new Set()\n\n\t_onAddComponent = handler(this.onAddComponent, this)\n\t_onRemoveComponent = handler(this.onRemoveComponent, this)\n\t_onRemoveEntity = handler(this.onRemoveEntity, this)\n}","import {World} from './World';\nimport {IDestroyed} from '@mygame/utils';\n\nexport class System implements IDestroyed {\n\tconstructor(world:World, ...args:any[]) {\n\t\tthis._world = world;\n\t}\n\n\tget world():World {\n\t\treturn this._world;\n\t}\n\n\tset enabled(enabled:boolean) {\n\t\tthis._enabled = enabled;\n\t}\n\n\tget enabled():boolean {\n\t\treturn this._enabled;\n\t}\n\n\tdestroy(): void {\n\t}\n\n\tonInit(): void {\n\n\t}\n\n\tonUpdate(dt: number): void {\n\t}\n\t// private block\n\t_world:World;\n\t_enabled: boolean = true\n}\n\nexport type SystemType<T extends System> = {\n\tnew (world:World, ...args:any[]): T\n}\n","import {World} from './World';\nimport {System, SystemType} from './System';\nimport {IDestroyed} from '@mygame/utils';\n\nexport class SystemGroup implements IDestroyed {\n\tconstructor(world: World) {\n\t\tthis._world = world;\n\t}\n\n\taddSystem<T extends System>(Type: SystemType<T>, ...args: any[]) {\n\t\tconst system = new Type(this._world, ...args);\n\t\tthis._systems.push(system);\n\t\tsystem.onInit();\n\t}\n\n\tadd<T extends System>(Type: SystemType<T>, ...args: any[]): this {\n\t\tconst system = new Type(this._world, ...args);\n\t\tthis._systems.push(system);\n\t\tsystem.onInit();\n\t\treturn this;\n\t}\n\n\n\tinit() {\n\t\tfor (let system of this._systems) {\n\t\t\tsystem.onInit();\n\t\t}\n\t}\n\n\tupdate(dt: number) {\n\t\tfor (let system of this._systems) {\n\t\t\tif (system.enabled) {\n\t\t\t\tsystem.onUpdate(dt);\n\t\t\t}\n\t\t}\n\t}\n\n\tdestroy() {\n\t\tfor (let system of this._systems) {\n\t\t\tsystem.destroy();\n\t\t}\n\t\tthis._systems = [];\n\t}\n\n\t// private block\n\t_world: World\n\t_systems: System[] = []\n\t_lastTime: number = 0;\n}","import {Entity} from './Entity';\nimport {EntityPool} from './EntityPool';\nimport {Component, ComponentType, ComponentTypeId} from './Component';\nimport {ComponentPool} from './ComponentPool'\nimport {Filter} from './Filter';\nimport {IDestroyed, Signal} from '@mygame/utils';\n\n\nexport type IPoolsComponent = {\n\t[key: ComponentTypeId]: ComponentPool<Component>;\n};\n\nexport class World implements IDestroyed {\n\tsocketCreateEntity = new Signal<[World, Entity]>();\n\tsocketRemoveEntity = new Signal<[World, Entity]>();\n\tsocketAddComponent = new Signal<[World, Entity, Component]>();\n\tsocketRemoveComponent = new Signal<[World, Entity, Component]>();\n\n\t/**\n\t * СОздать сущность\n\t */\n\tcreateEntity(): Entity {\n\t\tconst entity = this._poolEntity.create();\n\t\tthis._entities.add(entity);\n\t\tthis.socketCreateEntity.exec(this, entity);\n\t\treturn entity;\n\t}\n\n\t/**\n\t * Удалить сущность\n\t * @param entity\n\t */\n\tremoveEntity(entity:Entity):void {\n\t\tthis._poolEntity.push(entity);\n\t\tthis._entities.delete(entity);\n\t\tthis.socketRemoveEntity.exec(this, entity);\n\t}\n\n\tget entities():Iterable<Entity> {\n\t\treturn this._entities;\n\t}\n\n\t/**\n\t * Получить фильтр по полям\n\t * @param args\n\t */\n\tgetFilter(...args:ComponentType<Component>[]): Filter {\n\t\tconst id = args.map(cmp=>cmp.Type).join('_');\n\t\tif(!this._filters[id]) {\n\t\t\tthis._filters[id] = new Filter(this, id, args);\n\t\t}\n\t\treturn this._filters[id];\n\t}\n\n\t/**\n\t * Получить пул компонентов по типу компонента\n\t * @param componentType\n\t */\n\tgetComponentPool<T extends Component>(componentType:ComponentType<T>):ComponentPool<T> {\n\t\tif(!this._poolsComponent[componentType.Type]) {\n\t\t\tthis._poolsComponent[componentType.Type] = new ComponentPool(componentType);\n\t\t}\n\t\treturn this._poolsComponent[componentType.Type] as ComponentPool<T>;\n\t}\n\n\t/**\n\t * Добавить компонент к ентити\n\t * @param entity\n\t * @param componentType\n\t * @param args\n\t */\n\taddComponent<T extends Component>(entity:Entity, componentType:ComponentType<T>, ...args:any[]):T {\n\t\tconst pool = this.getComponentPool(componentType);\n\t\tconst component =  pool.create(...args) as T;\n\t\tentity._components[component.Type] = component;\n\t\tthis.socketAddComponent.exec(this, entity, component);\n\t\treturn component;\n\t}\n\n\t/**\n\t * Получить компонент из ентити\n\t * @param entity\n\t * @param componentType\n\t */\n\tgetComponent<T extends Component>(entity:Entity, componentType:ComponentType<T>): T | null {\n\t\tif(entity._components[componentType.Type]) {\n\t\t\treturn entity._components[componentType.Type] as T;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Удалить компонент из сущности\n\t * @param entity\n\t * @param componentType\n\t */\n\tremoveComponent<T extends Component>(entity:Entity, componentType:ComponentType<T>) {\n\t\tif(entity._components[componentType.Type]) {\n\t\t\tconst pool = this.getComponentPool(componentType);\n\t\t\tconst component = entity._components[componentType.Type];\n\t\t\tif(component) {\n\t\t\t\tpool.push(component);\n\t\t\t\tdelete entity._components[componentType.Type];\n\t\t\t\tthis.socketRemoveComponent.exec(this, entity, component);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Проверяет наличие компонета в сущности\n\t * @param entity\n\t * @param componentType\n\t */\n\thasComponent<T extends Component>(entity:Entity, componentType:ComponentType<T>):boolean {\n\t\treturn entity._components[componentType.Type]?true:false;\n\t}\n\n\tdestroy(): void {\n\t\tfor(let id in this._filters) {\n\t\t\tthis._filters[id].destroy();\n\t\t}\n\t\tthis._filters = {};\n\t}\n\n\t// private block\n\t_poolEntity:EntityPool = new EntityPool(this);\n\t_poolsComponent: IPoolsComponent = {}\n\t_entities:Set<Entity> = new Set();\n\t_filters:{\n\t\t[key: string]: Filter;\n\t} = {}\n}","export * from './World'\nexport * from './System'\nexport * from './SystemGroup'\nexport * from './Component'","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport {Grid} from './components/Grid';\nimport {RenderGrid} from './systems/RenderGrid';\nimport {RenderCircle} from './systems/RenderCircle';\nimport {RemoveCellSystem, SpawnCellSystem} from './systems/SpawnCellSystem';\nimport {RemoveSystem} from './systems/RemoveSystem';\nimport {GridCellRemoved, SpawnCell} from './components/SpawnCell';\nimport {UpdateCellPosition} from './systems/UpdateCellPosition';\nimport {LifeSystem} from './systems/LifeSystem';\nimport {ClickSystem, OnClick} from './systems/ClickSystem';\nimport {EditGridSystem} from './systems/EditGridSystem';\nimport {SystemGroup, World} from '../src';\n\n\nfunction main(config: any) {\n\tlet {canvas} = config;\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n\tconst context = canvas.getContext('2d');\n\n\tconst world = new World();\n\n\tworld.createEntity()\n\t\t.add(Grid, 50, 50)\n\n\t// world.createEntity()\n\t// \t.add(Position)\n\t// \t.add(GridCell, 0, 0)\n\t// \t.add(Circle)\n\n\tconst gridOptions = {\n\t\tposition: {x: 0, y: 0},\n\t\tsize: 20\n\t}\n\n\tconst systems = new SystemGroup(world);\n\tsystems\n\t\t.add(ClickSystem, canvas)\n\t\t.add(EditGridSystem, gridOptions)\n\t\t.add(LifeSystem)\n\t\t.add(SpawnCellSystem)\n\t\t.add(RemoveCellSystem)\n\t\t.add(UpdateCellPosition, gridOptions)\n\t\t.add(RenderGrid, context, gridOptions)\n\t\t.add(RenderCircle, context)\n\t\t.add(RemoveSystem, SpawnCell)\n\t\t.add(RemoveSystem, GridCellRemoved)\n\t\t.add(RemoveSystem, OnClick)\n\n\n\tworld.createEntity().add(SpawnCell, 10, 10)\n\tworld.createEntity().add(SpawnCell, 11, 10)\n\tworld.createEntity().add(SpawnCell, 12, 10)\n\tworld.createEntity().add(SpawnCell, 10, 11)\n\tworld.createEntity().add(SpawnCell, 10, 12)\n\tworld.createEntity().add(SpawnCell, 10, 13)\n\tworld.createEntity().add(SpawnCell, 10, 14)\n\n\tworld.createEntity().add(SpawnCell, 10, 20)\n\tworld.createEntity().add(SpawnCell, 11, 20)\n\tworld.createEntity().add(SpawnCell, 12, 20)\n\tworld.createEntity().add(SpawnCell, 10, 21)\n\tworld.createEntity().add(SpawnCell, 10, 22)\n\tworld.createEntity().add(SpawnCell, 10, 23)\n\tworld.createEntity().add(SpawnCell, 11, 24)\n\tworld.createEntity().add(SpawnCell, 11, 21)\n\tworld.createEntity().add(SpawnCell, 11, 22)\n\tworld.createEntity().add(SpawnCell, 11, 23)\n\tworld.createEntity().add(SpawnCell, 11, 24)\n\n\tsystems.init();\n\tsystems.update(0);\n\n\t// @ts-ignore\n\twindow.c = function(x, y) {\n\t\tworld.createEntity()\n\t\t\t.add(SpawnCell, x, y)\n\t}\n\n\n\tlet lastTime = performance.now();\n\tconst update = function () {\n\t\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\t\tlet time = performance.now();\n\t\tsystems.update(time - lastTime);\n\t\tlastTime = time;\n\t\t// requestAnimationFrame(update);\n\t\tsetTimeout(update, 100)\n\t}\n\n\tupdate();\n}\nmain({\n\tcanvas: document.getElementById('gameCanvas')\n});"],"names":[],"sourceRoot":""}